{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/PersonList.js","services/numbers.js","components/notification.js","components/error-notification.js","App.js","index.js"],"names":["Filter","props","className","value","filteredName","onChange","handleFilter","PersonForm","onSubmit","handleSubmit","onReset","resetForm","newName","handleNameChange","newNumber","handleNumberChange","type","PersonList","filter","persons","a","length","name","toLowerCase","startsWith","map","person","key","id","number","onClick","deleteContact","baseUrl","axios","get","then","response","data","nameObj","post","delete","newObj","put","Notification","message","ErrorNotification","errorMessage","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","setErrorMessage","useEffect","numberService","initialNumbers","event","target","preventDefault","doesContactExist","alert","find","n","window","confirm","contact","setTimeout","catch","error","returnedName","concat","deleted","contactToRemove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c933c3d7.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = props => {\r\n  return (\r\n    <div className=\"filter\">\r\n      Filter shown with\r\n      <input value={props.filteredName} onChange={props.handleFilter} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = props => {\r\n  return (\r\n    <div>\r\n      <form className=\"form\" onSubmit={props.handleSubmit} onReset={props.resetForm}>\r\n        <div>\r\n          <div>\r\n            <label>Name</label>\r\n            <input\r\n              className=\"input\"\r\n              value={props.newName}\r\n              onChange={props.handleNameChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label>Number</label>\r\n            <input\r\n              className=\"input\"\r\n              value={props.newNumber}\r\n              onChange={props.handleNumberChange}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <button className=\"add\" type=\"submit\">\r\n            add\r\n          </button>\r\n          <button className=\"clear\" type=\"reset\">\r\n            clear\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst PersonList = props => {\r\n  const filter = props.persons\r\n    .filter(a => {\r\n      if (props.filteredName.length === 0) {\r\n        return true;\r\n      }\r\n      return a.name.toLowerCase().startsWith(props.filteredName.toLowerCase());\r\n    })\r\n    .map(person => (\r\n      <div key={person.id} className=\"contact\">\r\n        <span>\r\n          {person.name} {person.number}\r\n          <button\r\n            className=\"button\"\r\n            value={person.name}\r\n            onClick={() => props.deleteContact(person.id, person.name)}>\r\n            <label>delete</label>\r\n          </button>\r\n        </span>\r\n      </div>\r\n    ));\r\n  return <div>{filter}</div>;\r\n};\r\n\r\nexport default PersonList;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = (nameObj) => {\r\n  const request = axios.post(baseUrl, nameObj)\r\n  return request.then(response => response.data)\r\n};\r\n\r\nconst update = (id,newObj) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObj)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  remove,\r\n  update\r\n};\r\n","import React from 'react';\r\n\r\nconst Notification = ({message}) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className=\"notification\">\r\n      <b>{message}</b>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React from 'react';\r\n\r\nconst ErrorNotification = ({errorMessage}) => {\r\n  if (errorMessage === null) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className=\"error\">\r\n      <b>{errorMessage}</b>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorNotification;\r\n","import React, {useState, useEffect} from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport PersonList from './components/PersonList';\nimport numberService from './services/numbers';\nimport Notification from './components/notification';\nimport ErrorNotification from './components/error-notification';\nimport './App.css';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filteredName, setFilter] = useState('');\n  const [message, setMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    numberService.getAll().then(initialNumbers => {\n      setPersons(initialNumbers);\n    });\n  }, []);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const nameObj = {\n      name: newName,\n      number: newNumber,\n    };\n\n    //checks and filters if the name already exists in the persons array\n    const doesContactExist = persons.filter(\n      person => person.name === nameObj.name\n    );\n\n    // if the returned array is not empty concatanates the name to the persons array\n    if (newName.length === 0 || newNumber.length === 0) {\n      alert('Please complete the fields');\n    } else if (doesContactExist.length !== 0) {\n      const contactToUpdate = persons.find(n => n.name === nameObj.name);\n      const newObj = {...contactToUpdate, number: newNumber};\n\n      if (\n        window.confirm(\n          ` ${newObj.name} is already in the phonebook, replace the old number with the new one?`\n        )\n      )\n        numberService\n          .update(newObj.id, newObj)\n          .then(response => {\n            setPersons(\n              persons.map(contact =>\n                contact.id !== newObj.id ? contact : response\n              )\n            );\n            setMessage(`${newObj.name} has been updated`);\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          })\n          .catch(error => {\n            setErrorMessage(\n              `${newObj.name} has already been removed from server`\n            );\n            setTimeout(() => {\n              setErrorMessage(null);\n            }, 5000);\n          });\n    } else {\n      numberService.create(nameObj).then(returnedName => {\n        setPersons(persons.concat(returnedName));\n\n        setMessage(`${nameObj.name} has been added to the phonebook`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n\n      });\n    }\n  };\n\n  const deleteContact = id => {\n    const deleted = persons.filter(contact => contact.id !== id);\n    const contactToRemove = persons.find(n => n.id === id);\n    if (\n      window.confirm(\n        `Are you sure you want to delete ${contactToRemove.name} ?`\n      )\n    ) {\n      numberService.remove(id).then(setPersons(deleted));\n    }\n  };\n\n  const resetForm = () => {\n    return setNewName('');\n  };\n\n  //function to handle the onchange value of input name\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilter = event => {\n    setFilter(event.target.value);\n  };\n\n  return (\n    <div>\n      <h2 className=\"header\">Phonebook</h2>\n      <Notification message={message} />\n      <ErrorNotification errorMessage={errorMessage} />\n      <Filter handleFilter={handleFilter} />\n      <h2>Add a new</h2>\n      <PersonForm\n        resetForm={resetForm}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        handleSubmit={handleSubmit}\n      />\n      <h2>Numbers</h2>\n      <PersonList\n        persons={persons}\n        filteredName={filteredName}\n        deleteContact={deleteContact}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}